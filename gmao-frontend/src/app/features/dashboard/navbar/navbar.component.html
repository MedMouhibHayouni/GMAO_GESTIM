<header class="navbar fixed top-0 right-0 h-16 bg-white dark:bg-[#1e293b] shadow-lg z-40 transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]"
        [class.left-72]="isSidebarOpen" [class.left-24]="!isSidebarOpen">
  <div class="flex items-center justify-between h-full px-6 border-b border-gray-200 dark:border-[#334155]">
    <!-- Left side -->
    <div class="flex items-center space-x-6">
      <button (click)="toggleSidebar()"
              class="navbar-item text-gray-500 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-white focus:outline-none transition-colors duration-200"
              aria-label="Toggle sidebar">
        <i class="fas fa-bars text-xl"></i>
      </button>

      <!-- Search -->
      <div class="navbar-item relative hidden md:block">
        <div class="relative">
          <input type="text" placeholder="Search..."
                class="pl-10 pr-4 py-2 w-64 rounded-lg bg-gray-100 dark:bg-[#0f172a] border border-gray-300 dark:border-[#334155] text-gray-800 dark:text-slate-200
                       focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-blue-400 focus:border-indigo-500 dark:focus:border-blue-400
                       placeholder-gray-500 dark:placeholder-slate-400 transition-all duration-200">
          <i class="fas fa-search absolute left-3 top-3 text-gray-400 dark:text-slate-400"></i>
        </div>
      </div>
    </div>

    <!-- Right side -->
    <div class="flex items-center space-x-6">
      <!-- Dark Mode Toggle -->
      <div class="navbar-item">
        <button (click)="toggleDarkMode()"
                class="text-gray-500 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-white focus:outline-none transition-colors duration-200"
                aria-label="Toggle dark mode">
          <i class="fas" [class.fa-moon]="!isDarkMode" [class.fa-sun]="isDarkMode"></i>
        </button>
      </div>

      <!-- Notification -->
      <div class="navbar-item relative">
        <button class="text-gray-500 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-white focus:outline-none relative p-1 rounded-full
                      hover:bg-gray-100 dark:hover:bg-[#334155] transition-colors duration-200"
                aria-label="Notifications">
          <i class="fas fa-bell text-xl"></i>
          <span class="absolute -top-0.5 -right-0.5 bg-red-500 text-white text-xs font-bold rounded-full
                      h-5 w-5 flex items-center justify-center border border-white dark:border-[#1e293b]">3</span>
        </button>
      </div>

      <!-- Messages -->
      <div class="navbar-item relative hidden md:block">
        <button class="text-gray-500 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-white focus:outline-none relative p-1 rounded-full
                      hover:bg-gray-100 dark:hover:bg-[#334155] transition-colors duration-200"
                aria-label="Messages">
          <i class="fas fa-envelope text-xl"></i>
          <span class="absolute -top-0.5 -right-0.5 bg-blue-500 text-white text-xs font-bold rounded-full
                      h-5 w-5 flex items-center justify-center border border-white dark:border-[#1e293b]">5</span>
        </button>
      </div>

      <!-- User Dropdown -->
      <div class="navbar-item dropdown relative">
        <button class="flex items-center space-x-3 focus:outline-none group"
                aria-label="User menu">
          <div class="relative">
            <img [src]="user?.avatar || 'assets/images/default-avatar.png'"
                 alt="User profile"
                 class="w-9 h-9 rounded-full object-cover border-2 border-transparent group-hover:border-indigo-500 dark:group-hover:border-blue-400 transition-all duration-200">
            <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-[#1e293b]"></span>
          </div>
          <span class="text-gray-700 dark:text-slate-200 font-medium text-sm hidden lg:block">{{user?.name || 'User'}}</span>
          <i class="fas fa-chevron-down text-xs text-gray-500 dark:text-slate-400 group-hover:text-indigo-600 dark:group-hover:text-white transition-colors duration-200"></i>
        </button>

        <div class="dropdown-menu absolute right-0 mt-2 w-56 bg-white dark:bg-[#1e293b] rounded-lg shadow-xl py-1 z-50 border border-gray-200 dark:border-[#334155]
                    divide-y divide-gray-200 dark:divide-[#334155] hidden">
          <div class="px-4 py-3">
            <p class="text-sm text-gray-800 dark:text-slate-200 font-medium">{{user?.name || 'User'}}</p>
            <p class="text-xs text-gray-500 dark:text-slate-400 truncate">{{user?.email || 'user@example.com'}}</p>
          </div>
          <div class="py-1">
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-[#334155] hover:text-gray-900 dark:hover:text-white transition-colors duration-150">
              <i class="fas fa-user-circle mr-3"></i> Profile
            </a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-[#334155] hover:text-gray-900 dark:hover:text-white transition-colors duration-150">
              <i class="fas fa-cog mr-3"></i> Settings
            </a>
          </div>
          <div class="py-1">
            <a (click)="logout()"
               class="block px-4 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-[#334155] hover:text-gray-900 dark:hover:text-white transition-colors duration-150 cursor-pointer">
              <i class="fas fa-sign-out-alt mr-3"></i> Logout
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
